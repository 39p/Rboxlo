function unix2timestamp(e){return moment.unix(e).format("L @ h:mm A")}function copy(e){let a=$(`#${e}`).text();if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(a);else{let e=$("<textarea>",{style:"position: fixed; top: 0; width: 2em; height: 2em; padding: 0; border: none; outline: none; boxShadow: none; background: transparent"});e.append(a),$(document.body).append(e),e.focus(),e.select();try{document.execCommand("copy")}catch(e){console.log(`failed to copy text ${a} because ${e}`)}e.remove()}}function fetchApplicationDataModify(e=!1){e||($("#data").addClass("d-none"),$("#data-loading").removeClass("d-none"));let a=$("#data-body");a.html(""),fetch(`${window.rboxlo.domain}/games/application/json`).then(e=>e.json()).then(e=>{0==e.length?($("#data-loading").addClass("d-none"),$("#data-empty").removeClass("d-none")):($(e).each((e,t)=>{let n=$("<tr>",{"data-rboxlo-application-id":t.id}),d=$("<td>",{class:"align-middle text-center table-button",scope:"row"}).append($("<a>",{href:`${window.rboxlo.domain}/games/application/modify?id=${t.id}`}).append($("<button>",{class:"btn btn-primary btn-sm",type:"button"}).append($("<i>",{class:"fas fa-pencil"})))),i=$("<td>",{class:"align-middle text-center table-button",scope:"row"}).append($("<button>",{class:"btn btn-danger btn-sm",type:"button"}).append($("<i>",{class:"fas fa-trash"}))),s=$("<td>",{class:"align-middle text-center table-button",scope:"row"}).append($("<button>",{class:"btn btn-success btn-sm text-white",type:"button"}).append($("<i>",{class:"fas fa-upload"}))),o=$("<td>",{class:"align-middle text-center"}).append(t.id),l=$("<td>",{class:"align-middle"}).append($("<div>",{class:"d-flex justify-content-between align-items-center"}).append([$("<code>",{id:`data-uuid-${t.id}`}).append(t.uuid),$("<button>",{class:"btn btn-secondary btn-sm",onclick:`copy('data-uuid-${t.id}')`}).append($("<i>",{class:"fas fa-clipboard"}))])),p=$("<td>",{class:"align-middle"});t.last_deployed_version_uuid.length>0?p.append($("<div>",{class:"d-flex justify-content-between align-items-center"}).append([$("<code>",{id:`data-lastVersionUUID-${t.id}`}).append(t.last_deployed_version_uuid),$("<button>",{class:"btn btn-secondary btn-sm",onclick:`copy('data-lastVersionUUID-${t.id}')`}).append($("<i>",{class:"fas fa-clipboard"}))])):p.append($("<div>",{class:"d-flex justify-content-between align-items-center"}).append([$("<i>",{class:"text-muted"}).append("none"),$("<button>",{class:"btn btn-secondary btn-sm",disabled:""}).append($("<i>",{class:"fas fa-clipboard"}))]));let c=$("<td>",{class:"align-middle"}).append($("<div>",{class:"d-flex justify-content-between align-items-center"}).append([$("<code>",{id:`data-internalName-${t.id}`}).append(t.internal_name),$("<button>",{class:"btn btn-secondary btn-sm",onclick:`copy('data-internalName-${t.id}')`}).append($("<i>",{class:"fas fa-clipboard"}))])),m=$("<td>",{class:"align-middle"}).append(t.display_name),r=$("<td>",{class:"align-middle"}).append(unix2timestamp(t.last_updated_timestamp)),b=$("<td>",{class:"align-middle"}).append(unix2timestamp(t.created_timestamp));n.append(d),n.append(i),n.append(s),n.append(o),n.append(l),n.append(p),n.append(c),n.append(m),n.append(r),n.append(b),a.append(n)}),setTimeout(()=>{$("#data-loading").addClass("d-none"),$("#data").removeClass("d-none")},200))})}function regenUUIDModify(){let e=$("#spinner-uuid");e.removeClass("d-none");let a=$('meta[name="rboxlo-application-id"]').attr("content"),t=$('meta[name="rboxlo-csrf"]').attr("content");fetch(`${window.rboxlo.domain}/games/application/regen-uuid?id=${a}`,{method:"POST",body:new URLSearchParams({_csrf:t})}).then(e=>e.json()).then(a=>{if(a.success){let t=$("#modification-update");e.addClass("d-none"),t.removeClass("d-none"),t.removeAttr("style"),t.text("Successfully regenerated application UUID!"),$("#uuid").text(a.newUUID),$("#lastUpdated").text(unix2timestamp(moment().unix())),setTimeout(()=>{t.fadeOut("slow")},2250)}})}window.rboxlo=[],$(document).ready(()=>{let e=$("[laid]");e.each((e,a)=>{a=$(a),a.attr("laid")==window.rboxlo.laid&&(a.addClass("active"),a.find("a").addClass("text-white"))})});