function deleteApplication(e){console.log(`[rboxlo->info]: delete::deleteApplication | deleting application with ID ${e}`);let a=$('meta[name="rboxlo-csrf"]').attr("content");fetch(url("/api/games/application/delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_csrf:a,id:e})}).then(e=>e.json()).then(e=>{let a=$("#update");e.success&&(a.text(`Successfully deleted application "${xss(e.deleted.displayName)}"!`),a.removeClass("d-none"),a.removeAttr("style"),$("#delete-application-modal").modal("hide"),populate(),setTimeout(()=>{a.fadeOut("slow")},2250))})}function modal(e){$("#delete-application-submit").off("click").on("click",()=>{deleteApplication(e)}),$("#delete-application-modal").modal("show")}function populate(e=!1){console.log(`[rboxlo->info]: delete::data | fetching data (initializing: ${e?"TRUE":"FALSE"})`),e||($("#data").addClass("d-none"),$("#data-loading").removeClass("d-none"));let a=$("#data-body");a.html(""),$("#data-empty").hasClass("d-none")||$("#data-empty").addClass("d-none"),fetch(url("/api/games/application/json")).then(e=>e.json()).then(e=>{0==e.length?($("#data-loading").addClass("d-none"),$("#data-empty").removeClass("d-none")):($(e).each((e,d)=>{let t=$("<tr>",{style:"cursor: pointer"}),l=$("<td>",{class:"align-middle text-center"}).append(d.id),n=$("<td>",{class:"align-middle"}).append(d.displayName),p=$("<td>",{class:"align-middle"}).append($("<code>").append(d.internalName)),o=$("<td>",{class:"align-middle"}).append($("<code>").append(d.uuid)),i=$("<td>",{class:"align-middle"});d.lastDeployedVersionUUID.length>0?i.append($("<code>").append(d.lastDeployedVersionUUID)):i.append($("<i>",{class:"text-muted"}).append("none"));let s=$("<td>",{class:"align-middle"}).append(timestamp(d.lastUpdatedTimestamp)),c=$("<td>",{class:"align-middle"}).append(timestamp(d.createdTimestamp));t.append(l),t.append(n),t.append(p),t.append(o),t.append(i),t.append(s),t.append(c),a.append(t),t.on("click",()=>{modal(d.id)})}),setTimeout(()=>{$("#data-loading").addClass("d-none"),$("#data").removeClass("d-none")},200))})}$(document).ready(()=>{$("#data-refresh").on("click",()=>{populate()}),populate(!0)});